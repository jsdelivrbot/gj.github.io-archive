<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="words about programming, music, and sonic pi">

    <title>"Such Great Heights" in Sonic Pi</title>

    <link rel="canonical" href="/sonicpi/play_pattern_timed">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <a class="navbar-brand navbar-right" href="https://learn.co" target="_blank">
            <h6 class="powered_by">Powered by
                <svg id='svg__logo--text' viewBox='0 0 130.5 42' fill="currentColor" width="50" class="svg-center">
                  <path d='M41.2,29.5h13v5.1h-19V8h6V29.5z'/>
                  <path d='M61.1,26.7c0.4,2.6,1.9,4.1,4.3,4.1c1.5,0,2.6-0.5,3.4-1.7h5.7c-1.1,3.8-4.7,6.1-9.3,6.1 c-5.9,0-9.9-4.1-9.9-10.1c0-6,4-10.2,9.9-10.2c4.1,0,7.1,2,8.6,5.7c0.7,1.7,1,3.5,1,6.1H61.1z M68.9,22.7 c-0.2-2.3-1.6-3.5-3.8-3.5c-2.2,0-3.6,1.2-4.1,3.5H68.9z'/>
                  <path d='M77.7,21.4c0.4-4.4,3.1-6.6,8.5-6.6c2.9,0,5.1,0.7,6.7,2c1.4,1.2,1.9,2.8,1.9,5.6v8.9 c0,2.1,0.1,2.4,0.7,3.3h-5.8c-0.2-0.7-0.2-0.8-0.4-1.5c-1.9,1.6-3.2,2-5.5,2c-4.3,0-7.1-2.4-7.1-6c0-3.6,2.3-5.5,7.7-6.4l3.1-0.5 c1.3-0.2,1.7-0.5,1.7-1.3c0-1.1-1.1-1.8-3-1.8c-2.1,0-3.2,0.7-3.4,2.3H77.7z M89.3,25.5c-0.6,0.2-1.1,0.4-2.1,0.6l-2,0.4 c-2,0.5-2.9,1.2-2.9,2.3c0,1.3,1.1,2,2.9,2c1.9,0,3.2-0.8,4.2-2.4V25.5z'/>
                  <path d='M104.4,15.4l-0.2,3.4c1.1-3.1,2.6-4,6.7-4v5.3c-0.7-0.1-1-0.1-1.4-0.1c-2,0-3.6,0.9-4.2,2.3 c-0.6,1.3-0.8,3.1-0.8,6.8v5.4h-5.7V15.4H104.4z'/>
                  <path d='M118.5,15.4v1.9c2.1-1.9,3.3-2.4,5.3-2.4c4.2,0,6.7,2.8,6.7,7.3v12.5h-5.7V24.1c0-2-0.1-2.7-0.6-3.4 c-0.5-0.7-1.3-1.1-2.3-1.1c-1,0-1.8,0.4-2.4,1c-0.6,0.7-0.8,1.5-0.8,3.2v10.8H113V15.4H118.5z'/>
                  <path stroke-miterlimit='10' d='M15.1,22l8.4,0l-8.4,13.9V22z M12.4,5.6l0,13.7H4.1L12.4,5.6z M12.6,1L0.7,20.4c-0.2,0.3-0.2,0.7,0,1c0.2,0.4,0.6,0.5,1,0.5l10.8,0l0,18.4c0,0.5,0.3,1,0.8,1.1c0.1,0,0.2,0.1,0.3,0.1 c0.4,0,0.8-0.2,1-0.5l11.7-19c0.2-0.3,0.3-1.1,0.3-1.5c-0.2-0.8-0.5-1.2-1.2-1.2H15.2l0-17.5c0-0.5-0.4-1.1-1.3-1.2 c-0.1,0-0.2,0-0.3,0C13.2,0.5,12.8,0.7,12.6,1'/>
                </svg>
            </h6>
        </a>
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">
                <li>
                    <a href="/">Home</a>
                </li>

                <li>
                    <a href="/about/">About</a>
                </li>

                <li>
                  <a href="/sonicpi.html">Sonic Pi</a>
                </li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>

    <!-- Page Header -->
<header class="intro-header" style="background-image: url('/img/home-bg.png')">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="site-heading">
                    <h1>play_pattern_timed</h1>
                    <hr class="small">
                    <span class="subheading"></span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Main Content -->
<div class="container">
	<div class="row">
		<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
			<p>Our 32 lines of code sound pretty good already, but two lines of code for each note is going to add up pretty quickly. This single synthesizer plays 1,136 notes over the course of the song, and 2,272 lines of code is way too much to allocate to a single instrument. The Sonic Pi code for the <i>entirety</i> of "Such Great Heights" is about an eighth as long as that. And who even has time to properly comment 2,272 lines?</p>
			<p>Luckily for us, Sonic Pi has an awesome method called <code>play_pattern_timed</code> that will instantly chop that absurd 2,272 figure down to a more reasonable 74. <code>play_pattern_timed</code> is an extension of the basic <code>play</code> method. The syntax is:
			<pre>play_pattern_timed [array, of, note, values], [array, of, sleep, values]</pre>
			If you want to learn more about arrays and their myriad uses, <a href="http://ruby-doc.org/core/Array.html" target="_blank">this is a great resource</a>, but for our purposes just think of an array as a collection of values separated by commas and encapsulated by square brackets. When the computer executes a <code>play_pattern_timed</code> method, it does two things:
				<ol>
					<li>It <span style="line-height:1.7;">runs a </span><code style="line-height:1.7;">play</code><span style="line-height:1.7;"> method for the first note in its first array (the array of note values).</span></li>
					<li>It looks up the corresponding sleep value in its second array (the array of sleep values) and runs a <code style="line-height:1.7;">sleep</code> method.</li>
					<li>It returns to the array of note values and runs <span style="line-height:1.7;">a </span><code style="line-height:1.7;">play</code><span style="line-height:1.7;"> method for the second note.</span></li>
					<li>It runs a <code style="line-height:1.7;">sleep</code> method for the second value in its second array.*</li>
					<li>And so on, until the method reaches the end of the note values array.</li>
				</ol>
			*If there are fewer sleep values than the number of note values, <code>play_pattern_timed</code> will loop back around to the beginning of its sleep values array.</p>
			<p>Let's construct a <code>play_pattern_timed</code> method for the first sixteen notes of our synth riff.</p>
			<p>Our first array, for note values, will look like this: <code>[:F4, :C5, :F4, :F4, :C5, :F4, :F4, :C5, :F4, :C5, :F4, :F4, :C5, :F4, :C5, :F4]</code></p>
			<p>Our second array, for sleep values, will look like this: <code>[0.5]</code></p>
			<p>Now, all together!</p>
			<img class="aligncenter" src="https://sonicpiblog.files.wordpress.com/2016/05/sonicpi_playpatterntimed1.gif" alt="sonicpi_playpatterntimed1" />
			<p>Press <strong>Run</strong> and revel in the efficient beauty of your single line of code. Note- you can split up your array across multiple lines, which might help with organization:</p>
			<img class="aligncenter" src="https://sonicpiblog.files.wordpress.com/2016/05/sonicpi_playpatterntimed2.gif" alt="sonicpi_playpatterntimed2" />
			<p>The 74-line figure we hinted at earlier consists of 71 <code>play_pattern_timed</code> methods (all of which follow the same syntax of <code>play_pattern_timed [16 notes], [0.5]</code>) and three additional <code>sleep</code> methods that break up the synthesizer's part into four large chunks.</p>
			<p>However, we can shave even more lines of code off - 41, to be exact - by taking advantage of what computers do best: repetition.</p>
		</div>
	</div>
	
	<div class="row">
		<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
			<nav>
				<ul class="pager">
					<li class="previous"><a href="a_comment"><span aria-hidden="true">&larr;</span>Previous</a></li>
					<li class="next"><a href="repetition">Next<span aria-hidden="true">&rarr;</span></a></li>
				</ul>
			</nav>
		</div>
	</div>
</div>

<hr>

    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <li>
                        <a href="https://learn.co/ga-be">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <span class="learn-icon">&#66;</span>
                            </span>
                        </a>
                    </li>

                    <li>
                        <a href="https://twitter.com/gabe_jackson">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>

                    <li>
                        <a href="https://github.com/ga-be">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                </ul>
                <p class="copyright text-muted">Copyright &copy; ga-be 2016</p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>

</body>

</html>
